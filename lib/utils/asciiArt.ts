const ASCII_CHARS = ['@', '#', 'S', '%', '?', '*', '+', ';', ':', ',', '.', ' '];

export function textToAscii(text: string, style: 'standard' | 'banner' | 'block'): string {
  if (style === 'standard') {
    return text;
  }
  
  if (style === 'banner') {
    return text.toUpperCase().split('').map(char => {
      const lines = getBannerChar(char);
      return lines;
    }).reduce((acc, lines) => {
      if (acc.length === 0) return lines;
      return acc.map((line, i) => line + ' ' + lines[i]);
    }, [] as string[]).join('\n');
  }
  
  if (style === 'block') {
    return text.toUpperCase().split('').map(char => {
      return getBlockChar(char);
    }).join('\n\n');
  }
  
  return text;
}

function getBannerChar(char: string): string[] {
  const patterns: Record<string, string[]> = {
    'A': ['  ███  ', ' █   █ ', '███████', '█     █', '█     █'],
    'B': ['██████ ', '█     █', '██████ ', '█     █', '██████ '],
    'C': [' █████ ', '█     █', '█      ', '█     █', ' █████ '],
    'D': ['██████ ', '█     █', '█     █', '█     █', '██████ '],
    'E': ['███████', '█      ', '█████  ', '█      ', '███████'],
    'F': ['███████', '█      ', '█████  ', '█      ', '█      '],
    'G': [' █████ ', '█      ', '█  ████', '█     █', ' █████ '],
    'H': ['█     █', '█     █', '███████', '█     █', '█     █'],
    'I': ['███████', '   █   ', '   █   ', '   █   ', '███████'],
    'J': ['███████', '    █  ', '    █  ', '█   █  ', ' ███   '],
    'K': ['█    █ ', '█   █  ', '████   ', '█   █  ', '█    █ '],
    'L': ['█      ', '█      ', '█      ', '█      ', '███████'],
    'M': ['█     █', '██   ██', '█ █ █ █', '█  █  █', '█     █'],
    'N': ['█     █', '██    █', '█ █   █', '█  █  █', '█   ███'],
    'O': [' █████ ', '█     █', '█     █', '█     █', ' █████ '],
    'P': ['██████ ', '█     █', '██████ ', '█      ', '█      '],
    'Q': [' █████ ', '█     █', '█     █', '█   █ █', ' ████ █'],
    'R': ['██████ ', '█     █', '██████ ', '█   █  ', '█    █ '],
    'S': [' █████ ', '█      ', ' █████ ', '      █', '██████ '],
    'T': ['███████', '   █   ', '   █   ', '   █   ', '   █   '],
    'U': ['█     █', '█     █', '█     █', '█     █', ' █████ '],
    'V': ['█     █', '█     █', '█     █', ' █   █ ', '  █ █  '],
    'W': ['█     █', '█  █  █', '█ █ █ █', '██   ██', '█     █'],
    'X': ['█     █', ' █   █ ', '  █ █  ', ' █   █ ', '█     █'],
    'Y': ['█     █', ' █   █ ', '  █ █  ', '   █   ', '   █   '],
    'Z': ['███████', '     █ ', '   █   ', ' █     ', '███████'],
    '0': [' █████ ', '█    ██', '█   █ █', '██    █', ' █████ '],
    '1': ['   █   ', '  ██   ', '   █   ', '   █   ', '███████'],
    '2': [' █████ ', '█     █', '    ██ ', '  ██   ', '███████'],
    '3': ['██████ ', '      █', '  ████ ', '      █', '██████ '],
    '4': ['█    █ ', '█    █ ', '███████', '     █ ', '     █ '],
    '5': ['███████', '█      ', '██████ ', '      █', '██████ '],
    '6': [' █████ ', '█      ', '██████ ', '█     █', ' █████ '],
    '7': ['███████', '     █ ', '    █  ', '   █   ', '  █    '],
    '8': [' █████ ', '█     █', ' █████ ', '█     █', ' █████ '],
    '9': [' █████ ', '█     █', ' ██████', '      █', ' █████ '],
    ' ': ['       ', '       ', '       ', '       ', '       '],
    '!': ['   █   ', '   █   ', '   █   ', '       ', '   █   '],
    '?': [' █████ ', '█     █', '    ██ ', '       ', '   █   '],
    '.': ['       ', '       ', '       ', '       ', '   █   '],
    ',': ['       ', '       ', '       ', '   █   ', '  █    '],
    '-': ['       ', '       ', '███████', '       ', '       '],
    '+': ['   █   ', '   █   ', '███████', '   █   ', '   █   '],
    '=': ['       ', '███████', '       ', '███████', '       '],
  };
  
  return patterns[char] || ['       ', '       ', '       ', '       ', '       '];
}

function getBlockChar(char: string): string {
  const blocks: Record<string, string> = {
    'A': '  ▄▀█  \n █▀█ █ \n▀   ▀  ',
    'B': '█▄▄  \n█▄█ \n▀▀▀ ',
    'C': '█▀▀ \n█   \n▀▀▀ ',
    'D': '█▀▄ \n█▀  \n▀▀▀ ',
    'E': '█▀▀ \n█▀  \n▀▀▀ ',
    'F': '█▀▀ \n█▀  \n▀   ',
    'G': '█▀▀ \n█ █ \n▀▀▀ ',
    'H': '█ █ \n█▀█ \n▀ ▀ ',
    'I': '█ \n█ \n▀ ',
    'J': '  █ \n  █ \n█▀  ',
    'K': '█ █ \n█▀▄ \n▀ ▀ ',
    'L': '█   \n█   \n▀▀▀ ',
    'M': '█▄ ▄█ \n█ ▀ █ \n▀   ▀ ',
    'N': '█▄ █ \n█ ▀█ \n▀  ▀ ',
    'O': '█▀█ \n█ █ \n▀▀▀ ',
    'P': '█▀█ \n█▀  \n▀   ',
    'Q': '█▀█ \n█ █ \n ▀█ ',
    'R': '█▀█ \n█▀▄ \n▀ ▀ ',
    'S': '█▀▀ \n▀▀█ \n▀▀▀ ',
    'T': '▀█▀ \n █  \n ▀  ',
    'U': '█ █ \n█ █ \n▀▀▀ ',
    'V': '█ █ \n█ █ \n ▀  ',
    'W': '█   █ \n█ █ █ \n ▀ ▀  ',
    'X': '▀▄▀ \n █  \n▀ ▀ ',
    'Y': '█ █ \n ▀█ \n  ▀ ',
    'Z': '▀█▀ \n █  \n▀▀▀ ',
    '0': '█▀█ \n█ █ \n▀▀▀ ',
    '1': '▄█  \n █  \n▄█▄ ',
    '2': '▀█▀ \n▄▀  \n▀▀▀ ',
    '3': '▀▀█ \n ▀█ \n▀▀▀ ',
    '4': '█ █ \n▀▀█ \n  ▀ ',
    '5': '█▀▀ \n▀▀█ \n▀▀▀ ',
    '6': '█▀▀ \n█▀█ \n▀▀▀ ',
    '7': '▀▀█ \n ▀█ \n  ▀ ',
    '8': '█▀█ \n█▀█ \n▀▀▀ ',
    '9': '█▀█ \n▀▀█ \n▀▀▀ ',
    ' ': '   \n   \n   ',
    '!': '█ \n█ \n▀ ',
    '?': '▀█ \n ▀ \n▀  ',
    '.': '  \n  \n▀ ',
    '-': '    \n▀▀▀ \n    ',
  };
  
  return blocks[char] || '█ \n█ \n▀ ';
}
